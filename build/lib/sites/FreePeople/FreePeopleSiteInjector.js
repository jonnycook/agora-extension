// Generated by CoffeeScript 1.10.0
var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

define(function() {
  return {
    d: ['DataDrivenSiteInjector'],
    c: function() {
      var FreePeopleSiteInjector;
      return FreePeopleSiteInjector = (function(superClass) {
        extend(FreePeopleSiteInjector, superClass);

        function FreePeopleSiteInjector() {
          return FreePeopleSiteInjector.__super__.constructor.apply(this, arguments);
        }

        FreePeopleSiteInjector.prototype.productListing = {
          mode: 2,
          image: 'a:not(.option):not([rel="hoverzoom"]):not([data-image]) img',
          productData: function(href, a, img) {
            var matches;
            if (matches = /^http:\/\/images\d*\.freepeople\.com\/is\/image\/FreePeople\/([^_]*)/.exec(img.attr('src'))) {
              return {
                productUrl: href,
                retrievalId: matches[1]
              };
            }
          }
        };

        FreePeopleSiteInjector.prototype.productPage = {
          productSid: function() {
            var id, name, options, sid;
            name = $('meta[property="og:url"]').attr('content').match(/^http:\/\/www\.freepeople\.com\/([^\/]*)\/$/)[1];
            id = $('form[name=productsDetailOptionsForm] input[name=productID]').val();
            options = $('#productsDetailOptionsForm [name="productOptionIDs"]').val();
            sid = id + ":" + name;
            if (options) {
              sid += ":" + options;
            }
            return sid;
          },
          imgEl: 'img[itemprop="image"]',
          overlayEl: '.lens',
          overlayZIndex: 9999
        };

        return FreePeopleSiteInjector;

      })(DataDrivenSiteInjector);
    }
  };
});

//# sourceMappingURL=FreePeopleSiteInjector.js.map
