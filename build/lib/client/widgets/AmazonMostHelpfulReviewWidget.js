// Generated by CoffeeScript 1.7.1
define(function() {
  return function() {
    var AmazonMostHelpfulReviewWidget;
    return AmazonMostHelpfulReviewWidget = (function() {
      AmazonMostHelpfulReviewWidget.prototype.title = 'Most Helpful Review';

      AmazonMostHelpfulReviewWidget.prototype.expands = true;

      function AmazonMostHelpfulReviewWidget(data) {
        var _ref, _ref1;
        this.el = $("<div> <div class='wrapper'> <a href='" + data.url + "' target='_blank' class='title'>" + data.title + "</a> <div class='rating'> <div><div /></div> <div><div /></div> <div><div /></div> <div><div /></div> <div><div /></div> </div> <div class='author'>" + ((_ref = (_ref1 = data.author) != null ? _ref1.name : void 0) != null ? _ref : data.author) + "</div> </div> <div class='review'>" + data.review + "</div> </div>");
        util2.setRating(this.el.find('.rating'), data.rating);
      }

      AmazonMostHelpfulReviewWidget.prototype.init = function() {
        this.el.find('.review').dotdotdot();
        if (!this.el.find('.review').triggerHandler('isTruncated')) {
          return this.expands = false;
        }
      };

      return AmazonMostHelpfulReviewWidget;

    })();
  };
});

//# sourceMappingURL=AmazonMostHelpfulReviewWidget.map
