// Generated by CoffeeScript 1.10.0
define(function() {
  return function() {
    var ReviewsWidget;
    return ReviewsWidget = (function() {
      ReviewsWidget.prototype.expands = true;

      function ReviewsWidget(data1) {
        var i, len, ref, ref1, ref2, ref3, ref4, review, reviewEl, reviewI;
        this.data = data1;
        this.title = (ref = data.title) != null ? ref : 'Reviews';
        this.el = $('<ul />');
        ref1 = data.content;
        for (reviewI = i = 0, len = ref1.length; i < len; reviewI = ++i) {
          review = ref1[reviewI];
          if ((ref2 = reviewI === data.count) != null ? ref2 : 3) {
            break;
          }
          reviewEl = $("<li class='review'> <div class='wrapper'> <a href='" + review.url + "' target='_blank' class='title'>" + ((ref3 = review.title) != null ? ref3 : '') + "</a> <div class='rating'> <div><div /></div> <div><div /></div> <div><div /></div> <div><div /></div> <div><div /></div> </div> <div class='author'>" + review.author + "</div> </div> <div class='review'>" + ((ref4 = review.review) != null ? ref4 : review.content) + "</div> </div>");
          if (!review.review) {
            reviewEl.find('div.review').remove();
          } else if (data.maxHeight) {
            reviewEl.find('div.review').css('maxHeight', data.maxHeight);
          }
          if (!review.url) {
            reviewEl.find('.title').removeAttr('href');
          }
          util2.setRating(reviewEl.find('.rating'), review.rating);
          this.el.append(reviewEl);
        }
      }

      ReviewsWidget.prototype.init = function() {
        if (this.data.maxHeight) {
          return this.el.find('div.review').dotdotdot();
        }
      };

      return ReviewsWidget;

    })();
  };
});

//# sourceMappingURL=ReviewsWidget.js.map
