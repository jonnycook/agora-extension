// Generated by CoffeeScript 1.7.1
define(['underscore'], function(_) {
  var Debug;
  return Debug = (function() {
    function Debug() {}

    Debug.stackTrace = function() {
      var trace;
      trace = Error().stack;
      trace = trace.split('at ').slice(3);
      return _.map(trace, function(line) {
        var matches;
        matches = line.match(/(.*?) \(((?:[<>A-z0-9_\/.:\-])*):([^:]*):([^:]*)\)\s*/);
        if (matches) {
          return {
            "function": matches[1],
            file: matches[2],
            line: matches[3],
            col: matches[4],
            l: line
          };
        } else {
          matches = line.match(/((?:[<>A-z0-9_\/.:\-])*):([^:]*):([^:]*)/);
          if (matches) {
            return {
              "function": null,
              file: matches[1],
              line: matches[2],
              col: matches[3],
              l: line
            };
          }
        }
      });
    };

    Debug.log = function() {
      var args, caller, func, i, ignoreList, item, list, matched, pattern, trace, _i, _j, _k, _len, _len1, _len2, _ref;
      ignoreList = [['ConnectView'], ['_callObservers'], ['triggerContentScriptEvent'], ['CreateView'], ['DeleteView'], [/^Deleting view/]];
      for (_i = 0, _len = ignoreList.length; _i < _len; _i++) {
        list = ignoreList[_i];
        matched = true;
        for (i = _j = 0, _len1 = list.length; _j < _len1; i = ++_j) {
          item = list[i];
          if (typeof item === 'string') {
            if (arguments[i] !== item) {
              matched = false;
            }
          } else {
            if (!item.exec(arguments[i])) {
              matched = false;
            }
          }
          if (!matched) {
            break;
          }
        }
        if (matched) {
          return;
        }
      }
      trace = this.stackTrace();
      args = Array.prototype.slice.call(arguments, 0, arguments.length);
      caller = trace[1];
      func = caller["function"];
      if (func) {
        _ref = ['^Update', '^Table'];
        for (_k = 0, _len2 = _ref.length; _k < _len2; _k++) {
          pattern = _ref[_k];
          if (func.match(pattern)) {
            return;
          }
        }
      }
      args.push("" + caller.file + ":" + caller.line + ":" + caller.col);
      if (func) {
        args.unshift("[" + func + "]");
      }
      return console.log.apply(console, args);
    };

    Debug.error = function() {
      var args, caller, func, i, ignoreList, item, list, matched, trace, _i, _j, _len, _len1;
      ignoreList = [['_callObservers'], ['update'], ['adding']];
      for (_i = 0, _len = ignoreList.length; _i < _len; _i++) {
        list = ignoreList[_i];
        matched = true;
        for (i = _j = 0, _len1 = list.length; _j < _len1; i = ++_j) {
          item = list[i];
          if (typeof item === 'string') {
            if (arguments[i] !== item) {
              matched = false;
            }
          } else {
            if (!item.exec(arguments[i])) {
              matched = false;
            }
          }
          if (!matched) {
            break;
          }
        }
        if (matched) {
          return;
        }
      }
      trace = this.stackTrace();
      args = Array.prototype.slice.call(arguments, 0, arguments.length);
      caller = trace[1];
      func = caller["function"];
      args.push("" + caller.file + ":" + caller.line + ":" + caller.col);
      if (func) {
        args.unshift("[" + func + "]");
      }
      return console.error.apply(console, args);
    };

    return Debug;

  })();
});

//# sourceMappingURL=Debug.map
