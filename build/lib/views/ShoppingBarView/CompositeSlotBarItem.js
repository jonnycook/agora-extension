// Generated by CoffeeScript 1.7.1
var __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

define(['View', 'Site', 'Formatter', 'util', 'underscore', './BarItem'], function(View, Site, Formatter, util, _, BarItem) {
  var CompositeSlotBarItem;
  return CompositeSlotBarItem = (function(_super) {
    __extends(CompositeSlotBarItem, _super);

    function CompositeSlotBarItem() {
      return CompositeSlotBarItem.__super__.constructor.apply(this, arguments);
    }

    CompositeSlotBarItem.id = function(args) {
      return args.id;
    };

    CompositeSlotBarItem.prototype.init = function(id) {
      var slot;
      slot = this.obj;
      return this.data = {
        type: 'CompositeSlot',
        barItemData: {
          type: slot.get('type'),
          id: this.obj.get('id'),
          elementType: this.ctx.clientValue(slot.field('element_type')),
          elementId: this.ctx.clientValue(slot.field('element_id'))
        }
      };
    };

    CompositeSlotBarItem.prototype.dropped = function(element) {
      var obj;
      obj = util.resolveObject(element);
      this.obj.set('element_type', obj.modelName);
      this.obj.set('element_id', obj.get('id'));
      return null;
    };

    CompositeSlotBarItem.prototype.ripped = function(element) {
      this.obj.set('element_type', null);
      return this.obj.set('element_id', null);
    };

    return CompositeSlotBarItem;

  })(BarItem);
});

//# sourceMappingURL=CompositeSlotBarItem.map
